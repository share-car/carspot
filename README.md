# Carspot Website

 * **Carspot** is a Ruby on Rails Application use to rent a car.
 * Heroku link: **https://dev-carspot.herokuapp.com**
## Author
* Submitted by: **Trung (Group4)**
* Editted by: **Trinh (Group4)**
* Updated by: **Ha Ta (Group4)**

## Library
* Front-end framework: **http://beta.quasar-framework.org/**

## Design
* Wireframing: **https://app.moqups.com/phhtrinh/uZqOAY2BP4/edit/page/ad64222d5**
* Database model: **https://www.draw.io/#G0BwrJl1LUhPifaUZ4ajZZVl9OdEE**
* [Class diagram link](https://www.draw.io/?lightbox=1&highlight=0000ff&edit=_blank&layers=1&nav=1&title=Carspot.html#R7Z1tb9s4Esc%2FTd4ckEDPll42affugC2u2Nzt3b4KFIuxhZUtr6Q0zX76ox7oWENSkh2RVLBTFK1NU7Is%2FTgc%2FskZXrl3ux9%2FL%2BLD9muekOzKsZIfV%2B7nK8cJvYj%2BWxe8tgW%2BF7QFmyJN2iL7reA%2B%2FZN0hVZX%2BpwmpOxVrPI8q9JDv3Cd7%2FdkXfXK4qLIX%2FrVnvKs%2F62HeEO4gvt1nPGl%2F02TatuV2kH09sE%2FSLrZdl8dOqv2g13MKne%2FpNzGSf5yUuR%2BuXLvijyv2le7H3ckq%2B8duy%2FtcT9JPj1eWEH21ZQDHNf3%2FWAVOnHokiCxrrszfI%2Bz5%2B7HfiVVfJ8%2FF2vSXXL1yu5D%2BZLusnhP391uq11GC2368infV%2Fddpfp9nKWbPX29ptdEClrwnRRVSu%2Fmp%2B6DKj%2FQ0vU2zZKf49f8ub7ysorXv7N3t9u8SP%2Bkp43Zd9CPi6oDwwl6Ne7rI2mxRUsLUtI639jtsI9FP8dl1dVZ51kWH8r08XjBu7jYpPvbvKryXVeJ%2FdKf0iy7y7O8aG6A%2B9T8qc%2BaP%2B8TkrDa7Km259%2Bl6%2B51Fj%2BS7JZe36Y5gJ1pnzf3sKyK%2FHdycnqr%2BXP8hLHW3OSTC%2BkOr%2B%2F7T%2FEuzepW9Sspkngfs8fR3inb6d6LvqN78PTZkB9Smuwjo7Rtk3xHquKVVukOCNwO665dO2H3%2FuWklQRd2fakgdiu27XOrmVujud%2Bg5e%2B6PidyLLDsXzl3HYHfKL%2F%2F5PyuKFErm5t%2B2r1mcOb3oiqj3b%2FCbH7zj8KhnxGniop8OUhXqf7zc9Nnc%2FeW8kv3Y2pi162aUXuaXl9TS%2FUmtKynJ7vKWsA26ZJQvYNgFVcxS3D9dM85Om%2Bam6mf0v%2F0nt%2BZ934Vz79XXf0vf32nv6tqxcUij39fXHaPGtCG8gLqRvJNDDEhoQnhZERTAOD1ZuVC1fCRfV6IC0Z91VBnwMFw%2FF9JEMrGb5jkAxfQkZjtxENw2isQoNorCRodAWIhlE0bMvTx8YqjALb9qMnKyBRSMJrm4fjPyV1LNBfRn95yF9mR3QQu6K%2BL4oE7rJnvZ%2FiYOUFJAij0HOfvFUcXAfoLmszbxITcpa%2FLCJDiXlzZA7zMzVy%2B3iH3Z9xPqZaDjV8eBI%2ByC5O0W02DofIb1YFB9er8IJiy8YhLsuXvEgeknTT%2FHakxCwlQhdaFSaPkfe4tt1wHUehRZ6uQ%2B5Rk2RDmFdMb8U23%2BT7OPvyVgp8yBMmxrxG6gp%2FqmcBQFntqzKH9MRdDul7sk%2FYEUka7%2FJ98u9tum8%2FODmMvmOeYzDdwWx%2Fev17h91IentaGV78eL2ul6aXviHnMlCQLK7S7%2F0rED3g5lB6L%2BLXkwod2m9n%2FlYXnPi5UV8X9iwwK3FeffqivQLx0Z4Lj%2B7%2FnPYudgcBZI%2B35CKKbV4%2Fsm5u2MMbMmPNKEtqLD5PGRXuqOFp2oUE%2F9Phl2iMIyH1rKFPN%2BHW%2FZCr4zTXKcvCpi8dIl1Tm7jy%2FN4DvQ47C3QetTxmYR8U2wezEPnTU0lmh4QfZyEh7yDEugkjJsAwQOxZ%2BOiPzm0VcEit%2BAkdv5Jtus5w9hXVpGE1yQ3A7OtKIBqshJqop8DxdxyJ5496kgZnv7UjZ%2BlJYjRUkCHTC%2FKXfW2iajiE%2BjkSoY4IkYKkjQhXpj3jlPwS2BAJSKrY4K9NZi12zbJChMMwHELdSB8d0iUbKfV4S%2FJwoEMAaEJ8CyHRDAnTZMw4HDIR%2BpXEBXRGPWRDMxu%2BUWdUNrn5WMT79RYth2k6QqOOqax7SUi5LtJDleZ7gIhdD%2BgREr3DWUujh%2Bp7keWExPKjOCbJUyxdOFP%2FnofD82OWlp0duc3zjMR7ZEMnG65J%2F5SFBJ3A8a3I6YNEPRf13JHVgUDOdTmMHUuI8cBEx8UcswaDaq4JE9dakXPUXAkaClwkW6bP1KsDUcw1AoRAzNUIhMxnPrQd30O626DNMI2IQNPVh4hsavApLcrqAZcULwEQka6rjxCZKpPFCMhSABFouvoAkXkdcZLQQUmJoox5PgS6rj4%2BZPGah23z%2FPp0OMiGZjYEqq4%2BNmQOakpvZpVWrw%2FruEiwgzENiUjV1TiMkcdDnlCCg5lFkCLQeJWRwi3otrhnjcErZwavsO5gMHgl8sUQqA1eCby%2BDmuPBK%2BM1O8Hr8wQT%2BDwyiwGnUAGxW12KOqE0te5Ce%2BMIriGsQlgsbWSIBPBihcboXgfFNZNELF4yNfel703DgkA4isARGpx%2BUCTT1UVr7c70oXH4RQlTlHKmkQA5ij9icswwhnS%2FfFEyySh7y3XDzhVqcFTb%2B3KIgJP%2BGvjF2N0ouHR5CEkC4BEZyyKZJTRgwR7ROwRLw3C5FftiDPg%2BkpYPiOnFxq5mY2cTK4wkAKXzwNiyZwljLhbAhw6s%2BAK4ODHhi0cOPG%2BBDh05sGFGgnGQ3wEQrSmw%2BXX7sjm3jG%2B3yASoghMXVbD5pXnpU6RPWZ5PXaaZXKM%2FEir%2F7Ez0Ne%2F1a8pBJdOm%2FEtrXt%2Bg9NmsvgYtdNmoQ8GQv7wtJkfva%2B%2B2411puWIW3Gpv6YlieNPZIMTOeBE7aOZI9ucwE8LOUPbafj3pKrq7hflCpQrBgV8Gwr49rRewo5URBnZlkyhRVlWR4ZYS5Jqz4BkwUXZMlJl0zstH7JkeciFQi50qhUcF7LBBgpZi2BDp1jBX5zUaDzGdW6gIl0T7FeMM2J49x7B9j2dqFXQ4VGBmCwFE50SBu9%2FyCBB5XNRkIiySWmTPpkp%2BQBCl2wtuH2x3HV1kaglTZmywI0MbLhjlz0sUo3UHxGpbCBSeeGFIpUDdkTgBu%2FziVR8i%2BBH9LgMudcmJEZkYB2yqoT310ANurbD%2FilmWYrMZwPgnXRE5AwRT%2BEOCAAIJ3J0AOHyujZGL5zHxDWFwguUQOGtABSBpQMKlgf6A7tWxsPsJrlW84TZcdi4IC7Osy%2F0Zly4OxScu5N4M%2Bc6e%2FCCxwL%2FRuq%2FO%2FCPbxH8Yhy0kcOuVWtEhqzmfHF%2FnDOlpe%2F0eDGLBazXN61ObLA4RHQ%2F49Bm2yy9N3LPAS1eyxMWeEfLe6aLdo1ma%2BSOE%2FZ9ISfSggA%2FqLZubv6GFJihwANhkHaohQLm96BHfHWxR8wIWKDY6AF%2F0hkRG104WD%2BzvuuMiJnBYP0RMdMBo0Zuodxk9x%2BuuLOmuf%2BztDh%2BEgjt7qhD5o8m21C2xasf9M%2FreWDWR5FldtBFmxcShaJ334NTss0r%2F2v5%2FKZoSJaiekdW32is9EyD%2BB9H4MwPxKwfx88hCfw4x%2FV9P1iFThy6JEisawlQ78UF%2Bl1QD58eS%2BAPn2gmYTOygCPXaUbKhEqfFyrX27gs0xIN3nCnOC5lKZrkOW7SC06r2AQGaAI%2FpAm0ZjKBnGkKgL8%2Bkwlslub1vihUPFnj87p8VcT7cpdSO5hP2RLsL20IA2OGEKgw15oGCCFawg9pCWH%2Bn4stIVTbFFnCFdSuV5FiQ8jPXTw9k%2FqQJmIH7eCgHZQsftZgB9n0NeNEi0PoRh%2FGDC52isPkoh8Hjo09cIrJqj80U%2FBEM5lDB6Yt6L5HurQa1Lf9Xn0Fi35wsey5RtOVbB6gYCbYBtLhNZfXT9GCAEG%2Bb6TiPVSoy%2FYdAEK0jCc8fsLhINmH2Dgmulv%2FbMvB2L6GWpeDOby4ehcX3FPFzC%2BY%2BeWUe5ifiQ3LRnMue5a8WVy%2BIagsUW07T9AG1n4lVXzferrjNgtDamVcSCwIT8pA1hdV2bj5a5PF5pM9bfcERuUHGG%2BtFw6dqdr5a%2BNXQrdwbK%2BcIKvaJ7Gnrzf167woySF%2FqfNOth%2FS7zv9HETv%2Bxi7r5klUaoYfSzJMo9VYpb%2BoLWQo0VyJEwnow0klxdoukQhObVAsMPCnWd1wyFKIqMPDlkWmZLEVQdHinAYg0OUPEYfHLJN74VdUG%2FxwEBHhKMmMygJdrjWiJJse496qvXhLTUiwmFmSC3Y2VofHGxlwV9yUpU%2Bs%2BK1ScreJGJv3v7WnbG9LXo2M54nKzu%2FnAOEWcFMT1PnW32QMsqFst9M860ByHHl9IPKBEFx%2FlD9%2BedbA8HMGkZqjNm%2FYDTkS9U6FZBxTc1uulxyyI8TurGUtH%2FcLQy1Gc2zbRRYK%2BwFwzZqpP5o1r8%2BwT78PZOXzIAVhNyJ5guU5R4mZqYZsZhiCzKwGkFVsJvTO6mtYrWKrKmf0PELvTG4ZwnOXJ8USdtCAFxTz5u4x6ofyhvH5Wmh%2BZnrGuZfyB%2FP9QASYUaYh2CGnXRgTd0w2B0w9RfTzLoDXjcq8t1DEledbvS5foWK0eWKkcSOnLUIQ1vqe0cqTOfIhDkmjG6748gUZtrPVM8lyssGwdC55w4PhmyL4KJzZnD7VwNIaN1ih7%2B4jxPNulh9jA00FiiQwUx1fjgm4g%2FWH8skZ8GjQbbFqQIZnEvwJ85xzCGB4LYYZytk9nDsq8ptMfq5UPRMKbB78gFs5px7Zs9kLafMJki3klJrLeGW0Wwn66lbTIP6I9YSJMsPoI2bbizhVUzLRzBLU%2BBNIzaFeR0HQ20B7uIeBNEghSP1R6fWAMOXJucw2hh4wfnuuazy3bdmm0oUnFFwHnKTQr%2Fv9LoRLxYcI1d7gnPgyRv%2F5WqBLL4LN3zXIBo4Z4vOQjTU6Eiy4K6ymyc%2B3e9dNneMdKijQyA%2Fa6RDFq6FmzUvAg6BBK0PDmkIFs5imqVCpEJrxEIWfIXTmEahEETkaYTC4R72UrWFxU5NOAtWGGAezeC8XWtseDTQficvxmWTFLITKVQMBHGFONcwbLJaq2BkrqF3Vj3rcQXRgvek%2BE4d6X8dKlFyahSVUFQ6bQ8RyM4ZTO3S1YhKrmwJCopKGtw9VxLKsARRyZXlGUNRaRl0GBWVXJkYjaLSIuAwKyrJ9OimbwdJnxzfRzj0wmFYW5Lp0Qkp10XautF9Rpo9aBASvZAY1ZrYqgHUmgYGGSNaExurLlFrCoFatOr2zJCJQiP1x7QpEAcZrEB846WB4isLpCRXqE1h4vrzI8WHc2uo06ZMrIL1HI4P3Cj3PHFGIRAsMPC4DM7TwoQg432%2B25E9hlujUDncFgCwgWVz7qDGaGtPpkbhoEHroME7PwG%2BttA5T6ZJFV2GiYaPoZQTiIY6NIyGYHsyReq5xDhbQ0AYDb32ZCJUQQ7Z60OVt1DInCXkQh0XZuOv%2FY8vPBkPo%2FIEmwrzwtNKTIFa3cm2wDhsJEHhSP0R3cmDW15eGn8NBSyPhWfpSFDI6wqoOw1bON%2BU7sSCeY8afv8EakQGn180h8LTUoQnsJjyGBWqGImPn%2BXXeC86LRjZSC%2FqgNTpLFRe2n2B%2Bt7qrDS%2FNpCi4IbqU3tReCLfcvT1oryAhb3oSC9qKtGvmV6UV6%2BwF11KL%2Bp6%2FRm9wAu1MMHLVsjEUpnwrJUWJqIP71oZXxkjEigmpwlU7FqBxCvBSIK4kfpjC2OAY7ZywPBgcpoXuEe2r0%2BgYNogulbTXavIlGsF1nFBV16NzRTsTIT96FL6UYetLGAWDG7EdQkT9G2R59Vp9SI%2BbL%2FmSb0A%2Fcv%2FAQ%3D%3D)

## Development guide

### Git flow
* Clone code from github `git clone https://github.com/share-car/carspot.git`
* Checkout from **dev branch** `git checkout dev`
* Create branch for **new feature** `git checkout -b features/[ticket-name]`
* Commit with pattern `git commit "#features/[ticket-name]: description"`
* Push code to **feature branch** `git push --set-upstream origin features/[ticket-name]`
* Create **pull requestto dev branch** from github with comment to **request review code on slack**
* **Merge pull request** to dev branch and **delete feature branch**

### Build
* Install lasted nodejs with https://github.com/creationix/nvm
* Run `npm install` to build front end
* Run `rails db:create` to build create db
* Run `rails db:migrate` to build migrate db
* Run `rails s` to start server

### Generator
* Rspec controller: `rails g rspec:controller Api::V1::Users`
* FactoryGirl `rails g factory_girl:model User`
* Serializer `rails g serializer User`

### Deploy heroku
* Clone code from github and check out master
    * `git clone https://github.com/share-car/carspot.git`
    * `git checkout master`
* Create app 
    * `heroku create app-name`
* Add multi buildpacks
    * `heroku buildpacks:add --index 1 heroku/nodejs`
    * `heroku buildpacks:add --index 1 heroku/nodejs`
* Set env to auto build front-end when deploy
    * `heroku config:set NPM_CONFIG_PRODUCTION=false`
* Push code to heroku to auto build and deploy
    * `git push heroku master`
* Migrate data
    * `heroku run rake db:migrate`

## User Stories
* [ ] As user I can sign up by providing their email, password, and name.
* [ ] As user I can login using an email and password.
* [ ] As login user I can update profile such as name, avatar, email, password
* [ ] As login user I can see profile of other users
* [ ] As login user I can view my cars
    * [ ] Search by model, license plate
    * [ ] *Filter by year, branch, chassi, car status, from/to date*
    * [ ] *Order by model, base price, car status, date*
    * [ ] Item must have:
        * [ ] Car image
        * [ ] Car status: Publish/Unpuplish
        * [ ] The car is renting or not
        * [ ] No of Waiting request
        * [ ] Car info: model, license plate, year, branch, chassi, date
        * [ ] Rent setting: base price, driver price, service options price
        * [ ] *Vote info*
    * [ ] Register the car for rent
        * [ ] Input car info
            * Upload car images - max 4 images
            * Model: Mazda 6 Sport
            * License plate: 83F6-8472
            * Year: 2017
            * Branch: Mazda
            * Chassi: Sedan, Station, Wagon, Hatchback, MPV, SUV, LCV 
            * Engine: 1,496 cc
            * Horsepower: 184HP/5700rpm
            * Torque: 141Nm/3250rpm
            * Doors: 2, 3, 4, 5
            * Seats: 4, 5, 7
            * Transmission: Manual, Automatic
            * Fuel Type: Petrol, Diesel
            * Description
        * [ ] Input rent setting
            * [ ] Base price per day
            * [ ] Custom price from/to date
            * [ ] Driver price per day as a plugin service
            * [ ] Service options price such as: GPS tracking, Webding decorator ...
            * [ ] Note description when rent car
    * [ ] Update car info
    * [ ] Update rent setting
    * [ ] Publish/Unpublish car for rent
    * [ ] Delete car if don't have any rent histories
    * [ ] View car detail
        * [ ] Car Image: all image
        * [ ] Car status: Publish/Unpuplish
        * [ ] The car is renting or not with renter avatar 
        * [ ] No of Waiting request
        * [ ] Car info
        * [ ] Rent setting
        * [ ] *Vote info*
        * [ ] *Car hisotries as timelife*
* [ ] As login user I can view my reviews
    * [ ] Search by model, license plate
    * [ ] *Filter by request status, from/to date*
    * [ ] *Order by model, license plate, base price, request status, date*
    * [ ] Item must have:
        * [ ] Renter info
        * [ ] Request status: Waiting/Approval/Control/Return
        * [ ] Car info: model, license plate, year, branch, chassi, date
        * [ ] Rent info: base price, driver price, service options price
        * [ ] List and input comment between onwer and renter
        * [ ] *Display warning if From Date of request smaller than current date for Waiting/Approval*
        * [ ] *Display warning if To Date of request smaller than current date for Control*
    * [ ] Change request status from Waiting to Approval with the comment for renter
    * [ ] Change request status from Approval to Control with the comment for renter
    * [ ] Change request status from Control to Return with the comment for renter
    * [ ] Change request status from Return to Confirm with the comment for renter => *after confirm the item will not in the list, the voter will be send to owner and renter*
    * [ ] Change request status from Request/Approval to Cancel with the comment for renter
* [ ] As user I can view publish cars from other users
    * [ ] Search by model, license plate
    * [ ] *Filter by year, branch, chassi, availabe car with from/to date*
    * [ ] *Order by model, base price, publish date*
    * [ ] Item must have:
        * [ ] Car image
        * [ ] The car is renting or not
        * [ ] No of Waiting request
        * [ ] Car info: model, license plate, year, branch, chassi, date
        * [ ] Rent setting: base price, driver price, service options price
        * [ ] *Vote info*
    * [ ] View car detail
        * [ ] Car Image: all image
        * [ ] The car is renting or not with renter avatar 
        * [ ] No of Waiting request
        * [ ] Car info
        * [ ] Rent setting
        * [ ] *Vote info*
    * [ ] As login user I can make the request to rent car
        * [ ] Input Renter info
            * [ ] Fullname
            * [ ] Address
            * [ ] Phone
            * [ ] Passport or Identity Card:
                * Number
                * Image
            * [ ] Note
        * [ ] Can select from/to date availabe
            * [ ] Cannot select the date was booked with approval/control request
            * [ ] *Can see calendar with base/custom price for day*
        * [ ] Can select driver or not
        * [ ] Can select service options
        * [ ] Automatic calculate total price and display detail pricing from/to date with base price, custom price and plugin services

* [ ] As login user I can view my requests
    * [ ] Search by model, license plate
    * [ ] *Filter by request status, from/to date*
    * [ ] *Order by model, license plate, base price, request status, date*
    * [ ] Item must have:
        * [ ] Owner info: avatar, username
        * [ ] Renter info
        * [ ] Request status: Waiting/Approval/Control/Return/Confirm
        * [ ] Car info: model, license plate, year, branch, chassi, date
        * [ ] Rent info: base price, driver price, service options price
        * [ ] List and input comment between onwer and renter
        * [ ] *Display warning if From Date of request smaller than current date for Waiting/Approval*
        * [ ] *Display warning if To Date of request smaller than current date for Control*
    * [ ] Can update renter info if status is Waiting
    * [ ] Change request status from Waiting to Cancel with the comment for owner
    * [ ] Change request status from Approval to Cancel with the comment for owner
        * [ ] *Pay penalty fee*
    * [ ] Change request status from Control to Return with the comment for owner
### Optional:
* [ ] Integrate with facebook
    * [ ] Sign up
    * [ ] Login
    * [ ] Share car info
* [ ] Vote and review car after rent finish
* [ ] Add comment as Q&A for owner
* [ ] Integrate payment system to pay online
* [ ] Integrate point system to improve marketing
